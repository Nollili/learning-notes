### ES12 (2021), ES13 (2022), ES14 (2023), and ES15 (2024)

## **ES12 (ECMAScript 2021): Key Features**

### **1. Logical Assignment Operators**

- Combines logical operations with assignment, simplifying code.

```jsx
let a = null;
let b = 5;

a ||= b; // Equivalent to: if (!a) a = b;
console.log(a); // 5

let c = true;
c &&= false; // Equivalent to: if (c) c = false;
console.log(c); // false

let d = null;
d ??= b; // Equivalent to: if (d === null || d === undefined) d = b;
console.log(d); // 5
```

---

### **2. Numeric Separators**

- Enhances readability of large numeric literals by allowing underscores as separators.

```jsx
const budget = 1_000_000; // One million
console.log(budget); // 1000000
```

---

### **3. `Promise.any`**

- Returns the first fulfilled promise, ignoring rejections.

```jsx
const promises = [
  Promise.reject("Error 1"),
  Promise.resolve("Success"),
  Promise.reject("Error 2"),
];

Promise.any(promises)
  .then((value) => console.log(value)) // "Success"
  .catch((error) => console.log(error));
```

---

### **4. `String.prototype.replaceAll`**

- Replaces all occurrences of a substring within a string.

```jsx
const text = "apple, banana, apple";
const newText = text.replaceAll("apple", "orange");
console.log(newText); // "orange, banana, orange"
```

---

## **ES13 (ECMAScript 2022): Key Features**

### **1. Top-Level `await`**

- Allows the use of `await` at the top level of modules without wrapping in an async function.

```jsx
// In a module context
const data = await fetchData();
console.log(data);
```

---

### **2. Class Fields and Static Initialization Blocks**

- Introduces public and private class fields, along with static initialization blocks for complex static setup.

```jsx
class MyClass {
  static count = 0; // Public static field
  #name; // Private instance field

  constructor(name) {
    this.#name = name;
    MyClass.count++;
  }

  static {
    // Static initialization block
    console.log("Class initialized");
  }
}
```

---

### **3. `Array.prototype.at`**

- Accesses elements at a given index, supporting negative indices for counting from the end.

```jsx
const array = [10, 20, 30];
console.log(array.at(1)); // 20
console.log(array.at(-1)); // 3
```

---

## **ES14 (ECMAScript 2023): Key Features**

### **1. Array and TypedArray Methods: `toReversed`, `toSorted`, `toSpliced`, `with`**

- Introduces non-mutating methods for array manipulation.

```jsx
const arr = [3, 1, 4];

const reversed = arr.toReversed();
console.log(reversed); // [4, 1, 3]
console.log(arr); // [3, 1, 4] (original array unchanged)

const sorted = arr.toSorted();
console.log(sorted); // [1, 3, 4]
console.log(arr); // [3, 1, 4] (original array unchanged)

const spliced = arr.toSpliced(1, 1, 2);
console.log(spliced); // [3, 2, 4]
console.log(arr); // [3, 1, 4] (original array unchanged)

const newArr = arr.with(1, 2);
console.log(newArr); // [3, 2, 4]
console.log(arr); // [3, 1, 4] (original array unchanged)
```

---

### **2. `Array.prototype.findLast` and `findLastIndex`**

- Retrieves the last element or index that matches a condition.

```jsx
const numbers = [1, 2, 3, 4, 5];

const lastEven = numbers.findLast((n) => n % 2 === 0);
console.log(lastEven); // 4

const lastEvenIndex = numbers.findLastIndex((n) => n % 2 === 0);
console.log(lastEvenIndex); // 3
```

---

### **3. Hashbang (`#!`) Grammar**

- Allows the use of hashbangs in JavaScript files, facilitating scripting in Unix-like environments.

```jsx
#!/usr/bin/env node
console.log("Hello, world!");
```

---

### **4. Symbols as WeakMap Keys**

- Enables the use of symbols as keys in `WeakMap` and `WeakSet`.

```jsx
const wm = new WeakMap();
const sym = Symbol("key");
wm.set(sym, "value");
console.log(wm.get(sym)); // "value
```

---

## **ES15 (ECMAScript 2024): Key Feature**

### **1. Pipeline Operator (`|>`)**

- Introduces a functional pipeline operator for cleaner function composition.

```jsx
const result = [1, 2, 3]
  |> (nums) => nums.map((n) => n * 2)
  |> (nums) => nums.filter((n) => n > 2);
console.log(result); // [4, 6]
```

---

### **2. Temporal API**

- Provides a modern API for date and time manipulation, addressing limitations of the existing `Date` object.

```jsx
const now = Temporal.Now.plainDateTimeISO();
console.log(now.toString()); // e.g., "2024-05-20T14:30:00"
```

---

### **4. Set Methods Enhancements**

- Adds new methods to the `Set` prototype for common set operations.

```jsx
const setA = new Set([1, 2, 3]);
const setB = new Set([3, 4, 5]);

const union = setA.union(setB);
console.log(union); // Set {1, 2, 3, 4, 5}

const intersection = setA.intersection(setB);
console.log(intersection); // Set {3}

const difference = setA.difference(setB);
console.log(difference); // Set {1, 2}

```

---

### **Summary**

| **Version** | **Key Features** |
| --- | --- |
| **ES12** | Logical assignment, numeric separators, `Promise.any`, `replaceAll` |
| **ES13** | Top-level `await`, class fields, `Array.prototype.at` |
| **ES14** | Array `toReversed`, `toSorted`, `findLast`, hashbang grammar |
| **ES15** | Pipeline operator, Temporal API, enhanced `Set` methods |